<!doctype html>
<html lang="en">
  <head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script crossorigin
      src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script crossorigin
      src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script crossorigin
      src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  </head>
  <body>
    <div id="app"></div>
  
  <script type="text/babel">

    const buttons = [
      {
        name: "Coffee",
        bulk: true,
        price: 12.99
      },
      {
        name: "Soymilk",
        bulk: false,
        price: 5.79
      },
      {
        name: "Onions",
        bulk: true,
        price: 0.99
      },
      {
        name: "Oranges",
        bulk: true,
        price: 1.99
      },
      {
        name: "Dill",
        bulk: false,
        price: 1.99
      },
      {
        name: "Garlic",
        bulk: true,
        price: 3.99
      }
    ]

    function ButtonArray(props) {
      return (
        <div className="w-50">
          <table className="table table-striped border border-success">
            <thead>
              <tr>
                <th scope="col">Item Name</th>
                <th scope="col">price</th>
                <th scope="col">add to cart</th>
              </tr>
            </thead>
            <tbody>
              {props.list.map((button) => (
                <tr>
                  <td>{button.name}</td>
                  <td>{button.price}</td>
                  <td>
                    <button 
                      className="btn btn-success"
                      onClick={() => props.onClick(button)}
                      >
                        add
                      </button>
                  </td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
  
          )}

    function Cart(props) {
      return (
        <div className="container border d-flex flex-column">
          <h2>Cart</h2>
          {props.contents.map((item) => (
              <div className="p-2 border bg-warning rounded-pill">
                {item.name} | {item.price}
                <button type="button" className="btn align-self-right close">
                  &times;
                </button>
              </div>
          ))}
          <div className="flex-row p-2 mt-2 bg-info rounded-pill border">
            <h6>
              total: 
            </h6>
          </div>
        </div>
        
      )
    }

    class App extends React.Component {
      constructor(props) {
        super(props);

        this.state = {
          buttons,
          contents: []
        }

        this.handleAdd = this.handleAdd.bind(this)
      }

      handleAdd(name) {
        this.setState((currentState) => {
          
          return {
            contents: currentState.contents.concat([name])
          }
        })
      }

      render() {
        return (
          <div className="container">
            <div className="row">
              <div className="col-6">
                <ButtonArray 
                  list={this.state.buttons}
                  onClick={this.handleAdd}
                />
              </div>
              <div className="col-6"> 
                <Cart 
                  contents={this.state.contents}
                />
              </div>
            </div>
          </div>
        )
      }
    }

    ReactDOM.render(
      <App />,
      document.getElementById('app')
    )
  </script>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>